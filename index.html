<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="google" content="notranslate">

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BmbxuPwQa2lc/FVzBcNJ7UAyJxM6wuqIj61tLrc4wSX0szH/Ev+nYRRuWlolflfl" crossorigin="anonymous">
    <link rel="stylesheet" href="style.css">
    <title>Файл-Менеджер</title>
  </head>
  <body>
    <div id="app">

      <!-- Шапка -->
      <nav class="text-white d-flex py-2" style="background-color: #e3f2fd;">
        <h5 class="text-white">Введение в государственную службу</h5>

        <div class="input-form">
          <input type="text" class="input" placeholder="">
          <i class="fas fa-search" aria-hidden="true"></i>
        </div>

        <input ref=file type=file class="d-none" @change="uploadFile()">
        <button class="px-3 btn-green" @click="$refs.file.click()">
          <img src="icons/upload.svg" class="me-1">
          <span>ЗАГРУЗИТЬ</span>
        </button>


        <button type="button" class="ms-3 px-3 btn-green" data-bs-toggle="modal" data-bs-target="#exampleModal">
          <img src="icons/upload.svg" class="me-1">
          <span>СОЗДАТЬ</span>
        </button>
      </nav>
      <!-- ------- -->

      <main class="container d-flex pt-4">
        <aside class="col-3">
          <h6>Навигация</h6>

          <ul type="none" id="sidebar-folders">

            <li
              v-for="(item, index) in mainFolders"
              @click="showFolder(item)"
            >
              <img src="icons/folder.svg">
              <span>{{ item.title }}</span>
            </li>

          </ul>
        </aside>

        <section class="col-9 ps-4 mb-3">
          <div id="path">
            <button
              class="path bg-green text-white py-1 mb-3 me-2"
              v-for="(item, index) in path"
              @click="comeBack(index)"
            >
              {{ item }}
            </button>
          </div>

          <article>

            <div class="item px-2 text-left"
              v-for="(item, index) in items"
            >
              <div class="dropdown">
                <button class="more" id="dropdownMenuButton1" data-bs-toggle="dropdown" aria-expanded="false"> <img src="icons/more.svg"> </button>
                <ul class="dropdown-menu" aria-labelledby="dropdownMenuButton1"
                  v-if="item.type === 'folder'"
                >
                  <li><a class="dropdown-item" href="#">Изменить</a></li>
                  <li><a class="dropdown-item" href="#">Удалить</a></li>
                  <li><a class="dropdown-item" href="#">Скрыть</a></li>
                </ul>
                <ul class="dropdown-menu" aria-labelledby="dropdownMenuButton1"
                  v-else
                >
                  <li><a class="dropdown-item" href="#">Скачать</a></li>
                  <li><a class="dropdown-item" href="#">Изменить</a></li>
                  <li><a class="dropdown-item" href="#">Удалить</a></li>
                  <li><a class="dropdown-item" href="#">Скрыть</a></li>
                </ul>
              </div>

              <div class="d-flex flex-column"
                @click="showFolder(item)"
                v-bind:title="item.title"
              >
                <img :src="'icons/'+item.type+'.svg'" class="my-3 ml-auto" :class="{ fileImg: item.type === 'file' }">
                <hr>
                <strong> {{ item.title }} </strong>
                <small v-if="item.type === 'folder'"> Содержимое: {{ item.items }} </small>
              </div>
            </div>

          </article>
        </section>
      </main>

      <div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
        <div class="modal-dialog">
          <div class="modal-content">
            <div class="modal-header text-white rounded-0">
              <h5 class="modal-title" id="exampleModalLabel">Создание каталога</h5>
              <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
              <label>Навзание</label>
              <input type="text" class="form-control" id="inputModal" v-model="inputModal">
            </div>
            <div class="modal-footer pt-0">
              <button type="button" class="btn-green py-1" data-bs-dismiss="modal">Закрыть</button>
              <button type="button" class="btn-green py-1" @click="createFolder()">Создать</button>
            </div>
          </div>
        </div>
      </div>

    </div>
  </body>
  <script src="https://kit.fontawesome.com/847174a80a.js" crossorigin="anonymous"></script>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta2/dist/js/bootstrap.bundle.min.js" integrity="sha384-b5kHyXgcpbZJO/tY9Ul7kGkf1S0CWuKcCD38l8YkeH8z8QjE0GmW1gYU5S9FOnJ0" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/axios/0.21.1/axios.min.js" charset="utf-8"></script>
  <script src="https://cdn.jsdelivr.net/npm/vue@2/dist/vue.js"></script>
  <script src="script.js" charset="utf-8"></script>
</html>
